{"ast":null,"code":"const canvas = document.getElementById(\"drawingCanvas\");\nconst toolbar = document.getElementById('toolbar');\nconst ctx = canvas.getContext(\"2d\");\nconst canvasOffsetX = canvas.offsetLeft;\nconst canvasOffsetY = canvas.offsetTop;\ncanvas.width = window.innerWidth - canvasOffsetX;\ncanvas.height = window.innerHeight - canvasOffsetY;\nlet isPainting = false;\nlet lineWidth = 5;\nlet startX;\nlet startY;\nconst draw = e => {\n  if (!isPainting) {\n    return;\n  }\n  ctx.lineWidth = lineWidth;\n  ctx.lineCap = 'round';\n  ctx.lineTo(e.clientX - canvasOffsetX, e.clientY - canvasOffsetY);\n  ctx.stroke();\n};\nfunction handleImage(e) {\n  var reader = new FileReader();\n  reader.onload = function (event) {\n    var img = new Image();\n    img.onload = function () {\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.drawImage(img, 0, 0);\n    };\n    img.src = event.target.result;\n  };\n  reader.readAsDataURL(e.target.files[0]);\n}\ntoolbar.addEventListener('click', e => {\n  if (e.target.id === 'clear') {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  }\n  if (e.target.id === 'save') {\n    var image = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n    window.location.href = image; //save locally\n  }\n});\ntoolbar.addEventListener('change', e => {\n  if (e.target.id === 'stroke') {\n    ctx.strokeStyle = e.target.value;\n  }\n  if (e.target.id === 'lineWidth') {\n    lineWidth = e.target.value;\n  }\n  if (e.target.id === 'file') {\n    handleImage(e);\n  }\n});\ncanvas.addEventListener('mousedown', e => {\n  isPainting = true;\n  startX = e.clientX - canvasOffsetX;\n  startY = e.clientY - canvasOffsetY;\n  ctx.beginPath();\n  ctx.moveTo(startX, startY);\n});\ncanvas.addEventListener('mouseup', e => {\n  isPainting = false;\n  ctx.closePath();\n});\ncanvas.addEventListener('mousemove', draw);","map":{"version":3,"names":["canvas","document","getElementById","toolbar","ctx","getContext","canvasOffsetX","offsetLeft","canvasOffsetY","offsetTop","width","window","innerWidth","height","innerHeight","isPainting","lineWidth","startX","startY","draw","e","lineCap","lineTo","clientX","clientY","stroke","handleImage","reader","FileReader","onload","event","img","Image","drawImage","src","target","result","readAsDataURL","files","addEventListener","id","clearRect","image","toDataURL","replace","location","href","strokeStyle","value","beginPath","moveTo","closePath"],"sources":["/Users/hwoodie/Desktop/Projects/Color Draw/my-app/src/scripts.js"],"sourcesContent":["const canvas = document.getElementById(\"drawingCanvas\"); \nconst toolbar = document.getElementById('toolbar');\nconst ctx = canvas.getContext(\"2d\"); \n\nconst canvasOffsetX = canvas.offsetLeft;\nconst canvasOffsetY = canvas.offsetTop;\n\ncanvas.width = window.innerWidth - canvasOffsetX;\ncanvas.height = window.innerHeight - canvasOffsetY;\n\nlet isPainting = false;\nlet lineWidth = 5;\nlet startX;\nlet startY;\n\nconst draw = (e) => {\n  if(!isPainting) {\n      return;\n  }\n\n  ctx.lineWidth = lineWidth;\n  ctx.lineCap = 'round';\n\n  ctx.lineTo(e.clientX - canvasOffsetX, e.clientY - canvasOffsetY);\n  ctx.stroke();\n}\n\nfunction handleImage(e){\n  var reader = new FileReader();\n  reader.onload = function(event){\n      var img = new Image();\n      img.onload = function(){\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img,0,0);\n      }\n      img.src = event.target.result;\n  }\n  reader.readAsDataURL(e.target.files[0]);     \n}\n\ntoolbar.addEventListener('click', e => {\n  if (e.target.id === 'clear') {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n  }\n  if (e.target.id === 'save') {\n    var image = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n    window.location.href=image; //save locally\n  }\n});\n\ntoolbar.addEventListener('change', e => {\n  if(e.target.id === 'stroke') {\n      ctx.strokeStyle = e.target.value;\n  }\n\n  if(e.target.id === 'lineWidth') {\n      lineWidth = e.target.value;\n  }\n\n  if (e.target.id === 'file') {\n      handleImage(e);\n    }\n});\n\ncanvas.addEventListener('mousedown', (e) => {\n  isPainting = true;\n  startX = e.clientX - canvasOffsetX;\n  startY = e.clientY - canvasOffsetY;\n  ctx.beginPath();\n  ctx.moveTo(startX, startY);\n});\n\ncanvas.addEventListener('mouseup', e => {\n  isPainting = false;\n  ctx.closePath();\n});\n\ncanvas.addEventListener('mousemove', draw);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}